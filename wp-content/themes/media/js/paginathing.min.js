!function($,window,document){"use strict";var Paginator=function(element,options){this.el=$(element),this.options=$.extend({},$.fn.paginathing.defaults,options),this.startPage=1,this.currentPage=1,this.totalItems=this.el.children().length,this.totalPages=Math.max(Math.ceil(this.totalItems/this.options.perPage),this.options.limitPagination),this.container=$("<nav></nav>").addClass(this.options.containerClass),this.ul=$("<ul></ul>").addClass(this.options.ulClass);var hash=Number(location.hash.substr(1));return Number.isInteger(hash)&&hash>0&&hash<=this.totalPages&&(this.currentPage=hash),this.show(this.currentPage),this};Paginator.prototype={pagination:function(type,page){var _self=this,li=$("<li></li>"),a=$("<a></a>").attr("href","#"),cssClass="number"===type?this.options.liClass:type,text="";return text="number"===type?page:"pageNumbers"===type?this.paginationNumbersText():this.paginationText(type),li.addClass(cssClass),li.data("pagination-type",type),li.data("page",page),li.append(a.html(text).attr("href","#"+page)),li},paginationText:function(type){return this.options[type+"Text"]},paginationNumbersText:function(){var _self=this;return"Page "+this.currentPage+"/"+this.totalPages},buildPagination:function(){var _self=this,pagination=[],prev=this.currentPage-1<this.startPage?this.startPage:this.currentPage-1,next=this.currentPage+1>this.totalPages?this.totalPages:this.currentPage+1,start,end,limit=this.options.limitPagination;limit?this.currentPage<=Math.ceil(limit/2)+1?(start=1,end=limit):this.currentPage+Math.floor(limit/2)>=this.totalPages?(start=this.totalPages+1-limit,end=this.totalPages):(start=this.currentPage-Math.ceil(limit/2),end=this.currentPage+Math.floor(limit/2)):(start=this.startPage,end=this.totalPages),this.options.firstLast&&pagination.push(this.pagination("first",this.startPage)),this.options.prevNext&&pagination.push(this.pagination("prev",prev));for(var i=start;i<=end;i++)pagination.push(this.pagination("number",i));return this.options.prevNext&&pagination.push(this.pagination("next",next)),this.options.firstLast&&pagination.push(this.pagination("last",this.totalPages)),this.options.pageNumbers&&pagination.push(this.pagination("pageNumbers",this.currentPage)),pagination},render:function(page){var _self=this,options=_self.options,pagination=_self.buildPagination();_self.ul.children().remove(),_self.ul.append(pagination);var startAt=1===page?0:(page-1)*options.perPage,endAt=page*options.perPage;_self.el.children().hide(),_self.el.children().slice(startAt,endAt).show(),_self.ul.children().each((function(){var _li=$(this),type;switch(_li.data("pagination-type")){case"number":_li.data("page")===page&&_li.addClass(options.activeClass);break;case"first":page===_self.startPage&&_li.toggleClass(options.disabledClass);break;case"last":page===_self.totalPages&&_li.toggleClass(options.disabledClass);break;case"prev":page-1<_self.startPage&&_li.toggleClass(options.disabledClass);break;case"next":page+1>_self.totalPages&&_li.toggleClass(options.disabledClass)}})),options.insertAfter?_self.container.append(_self.ul).insertAfter($(options.insertAfter)):_self.el.after(_self.container.append(_self.ul))},handle:function(){var _self=this;_self.container.find("li").each((function(){var _li=$(this);_li.click((function(e){e.preventDefault();var page=_li.data("page");_self.currentPage=page,_self.show(page),history.pushState("","","#"+page)}))}))},show:function(page){var _self=this;this.render(page),this.handle()}},$.fn.paginathing=function(options){var _self=this;return this.each((function(){return new Paginator(this,options)}))},$.fn.paginathing.defaults={perPage:10,limitPagination:!1,prevNext:!0,firstLast:!0,prevText:"&laquo;",nextText:"&raquo;",firstText:"First",lastText:"Last",containerClass:"pagination-container",ulClass:"pagination",liClass:"page",activeClass:"active",disabledClass:"disabled",insertAfter:null,pageNumbers:!1}}(jQuery,window,document);